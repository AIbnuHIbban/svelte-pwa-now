<script>
  import { darkMode, showMenu } from "../store/store.js";

  function moreInfo() {
    window.open("https://www.toilet.org.sg", "_blank");
    showMenu.set(false);
  }

  function toggleDarkMode() {
    darkMode.set(!$darkMode);
    showMenu.set(false);
  }
</script>

<div class="flex flex-col p-4 text-gray-800">
  <h1 class="text-6xl mb-2">sgtoilet</h1>
  <p class="mb-6">
    A collection of toilets in Singapore rated by the Restroom Association
    (Singapore).
  </p>
  <button class="py-4 inline-flex text-lg" on:click="{moreInfo}">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 mr-2 fill-current"
      viewBox="0 0 24 24"
    >
      <path d="M0 0h24v24H0z" fill="none" />
      <path
        d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"
      />
    </svg>
    <span>Find out more</span>
  </button>
  {#if $darkMode}
  <button class="py-4 inline-flex text-lg" on:click="{toggleDarkMode}">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 fill-current mr-2" viewBox="0 0 45.16 45.16">
      <g>
        <g>
          <path d="M22.58,11.269c-6.237,0-11.311,5.075-11.311,11.312s5.074,11.312,11.311,11.312c6.236,0,11.311-5.074,11.311-11.312    S28.816,11.269,22.58,11.269z"/>
          <g>
            <g>
              <path d="M22.58,7.944c-1.219,0-2.207-0.988-2.207-2.206V2.207C20.373,0.988,21.361,0,22.58,0c1.219,0,2.207,0.988,2.207,2.207      v3.531C24.787,6.956,23.798,7.944,22.58,7.944z"/>
            </g>
            <g>
              <path d="M22.58,37.215c-1.219,0-2.207,0.988-2.207,2.207v3.53c0,1.22,0.988,2.208,2.207,2.208c1.219,0,2.207-0.988,2.207-2.208      v-3.53C24.787,38.203,23.798,37.215,22.58,37.215z"/>
            </g>
            <g>
              <path d="M32.928,12.231c-0.861-0.862-0.861-2.259,0-3.121l2.497-2.497c0.861-0.861,2.259-0.861,3.121,0      c0.862,0.862,0.862,2.26,0,3.121l-2.497,2.497C35.188,13.093,33.791,13.093,32.928,12.231z"/>
            </g>
            <g>
              <path d="M12.231,32.93c-0.862-0.863-2.259-0.863-3.121,0l-2.497,2.496c-0.861,0.861-0.862,2.26,0,3.121      c0.862,0.861,2.26,0.861,3.121,0l2.497-2.498C13.093,35.188,13.093,33.79,12.231,32.93z"/>
            </g>
            <g>
              <path d="M37.215,22.58c0-1.219,0.988-2.207,2.207-2.207h3.531c1.219,0,2.207,0.988,2.207,2.207c0,1.219-0.988,2.206-2.207,2.206      h-3.531C38.203,24.786,37.215,23.799,37.215,22.58z"/>
            </g>
            <g>
              <path d="M7.944,22.58c0-1.219-0.988-2.207-2.207-2.207h-3.53C0.988,20.373,0,21.361,0,22.58c0,1.219,0.988,2.206,2.207,2.206      h3.531C6.956,24.786,7.944,23.799,7.944,22.58z"/>
            </g>
            <g>
              <path d="M32.928,32.93c0.862-0.861,2.26-0.861,3.121,0l2.497,2.497c0.862,0.86,0.862,2.259,0,3.12s-2.259,0.861-3.121,0      l-2.497-2.497C32.066,35.188,32.066,33.791,32.928,32.93z"/>
            </g>
            <g>
              <path d="M12.231,12.231c0.862-0.862,0.862-2.259,0-3.121L9.734,6.614c-0.862-0.862-2.259-0.862-3.121,0      c-0.862,0.861-0.862,2.259,0,3.12l2.497,2.497C9.972,13.094,11.369,13.094,12.231,12.231z"/>
            </g>
          </g>
        </g>
      </g>
      </svg>
      <span>Day Mode</span>
  </button>
    {:else}
  <button class="py-4 inline-flex text-lg" on:click="{toggleDarkMode}">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 fill-current mr-2"
      viewBox="0 0 523.854 523.854"
    >
      <path
        d="M506.51,347.083c-7.057-7.037-15.245-8.531-24.571-4.424c-25.031,11.597-50.968,17.398-77.81,17.398    c-33.673,0-64.726-8.292-93.165-24.914c-28.439-16.598-50.961-39.125-67.571-67.559c-16.609-28.434-24.915-59.493-24.915-93.166    c0-26.169,5.171-51.016,15.527-74.572c10.349-23.543,25.306-44.192,44.878-61.935c7.509-7.05,9.217-15.238,5.116-24.565    c-3.874-9.333-10.808-13.758-20.82-13.317c-34.811,1.371-67.797,9.156-98.966,23.379c-31.175,14.223-57.963,32.925-80.368,56.132    c-22.411,23.207-40.159,50.68-53.238,82.412c-13.072,31.732-19.608,65.006-19.608,99.811c0,35.502,6.94,69.401,20.82,101.697    c13.874,32.313,32.534,60.189,55.967,83.611c23.434,23.445,51.304,42.087,83.611,55.974    c32.301,13.861,66.206,20.808,101.696,20.808c50.962,0,98-13.825,141.115-41.457c43.109-27.65,75.361-64.56,96.751-110.735    c1.817-4.106,2.326-8.427,1.536-12.968C511.682,354.146,509.692,350.278,506.51,347.083z"
      />
    </svg>
    <span>Night Mode</span>
  </button>
  {/if}
  <p class="absolute bottom-0 pb-4 text-center">
    Built with <a href="https://svelte.dev" target="_blank">Svelte</a> ·
    <a href="https://mapbox.com" target="_blank">Mapbox</a> ·
    <a href="https://tailwindcss.com" target="_blank">Tailwind</a><br>Source code
    on <a href="https://github.com/INeedToilet" target="_blank">Github</a>
  </p>
</div>
